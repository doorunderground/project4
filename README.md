# 머신러닝을 활용한 마케팅 예측

> 은행 텔레마케팅 데이터를 기반으로 **정기예금 가입 여부를 예측**하고, 효율적인 마케팅 전략을 도출하는 프로젝트

## 목차
- [프로젝트 개요](#프로젝트-개요)
- [데이터셋](#데이터셋)
- [분석 흐름](#분석-흐름)
- [1. EDA & 상관관계 분석](#1-eda--상관관계-분석)
- [2. 비지도 학습 (K-Means 클러스터링)](#2-비지도-학습-k-means-클러스터링)
- [3. 지도 학습 (분류 예측)](#3-지도-학습-분류-예측)
- [결과 요약](#결과-요약)
- [기술 스택](#기술-스택)
- [프로젝트 구조](#프로젝트-구조)

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| **주제** | 머신러닝을 활용한 정기예금 가입 예측 |
| **목표** | 고객의 가입 가능성을 예측하여 마케팅 비용을 절감하고 효율을 극대화 |
| **접근 방식** | 상관관계 분석 → 비지도 학습(고객 세분화) → 지도 학습(가입 예측) |

## 데이터셋

- **출처**: UCI Machine Learning Repository - Bank Marketing Dataset
- **파일**: `bank-additional-full.csv`
- **규모**: 41,188건 / 21개 변수
- **타겟 변수**: `y` (정기예금 가입 여부: yes / no)
- **클래스 비율**: No 88.7% / Yes 11.3% (불균형 데이터)

### 주요 변수

| 구분 | 변수명 | 설명 |
|------|--------|------|
| 수치형 | `duration` | 마지막 통화 시간(초) |
| 수치형 | `euribor3m` | 유리보 3개월 금리 |
| 수치형 | `nr.employed` | 고용자 수 |
| 수치형 | `pdays` | 이전 캠페인 후 경과 일수 |
| 수치형 | `emp.var.rate` | 고용 변동률 |
| 범주형 | `poutcome` | 이전 캠페인 결과 |
| 범주형 | `contact` | 연락 방식 |
| 범주형 | `job` | 직업 |

## 분석 흐름

```
EDA (상관관계 분석)        →  변수 후보 선정 (가이드 역할)
        ↓
비지도 학습 (클러스터링)    →  고객 세분화 · 타겟 그룹 도출
        ↓
지도 학습 (분류 예측)      →  신규 고객 가입 여부 예측
        ↓
Feature Importance         →  모델이 실제로 중요하게 사용한 변수 확인
```

## 1. EDA & 상관관계 분석

### 상관계수 분석
- **수치형 변수**: 피어슨 상관계수(Pearson Correlation)
- **범주형 변수**: 크래머의 V(Cramer's V)

### 주요 발견

| 변수 | 상관계수 | 해석 |
|------|----------|------|
| `duration` | 0.41 | 통화 시간이 길수록 가입률 증가 |
| `nr.employed` | -0.35 | 고용자 수가 적을수록(경기 불황) 가입률 증가 |
| `pdays` | 0.32 | 이전 접촉 이력이 있으면 가입률 증가 |
| `euribor3m` | -0.31 | 저금리 환경에서 가입률 증가 |
| `poutcome` | V=0.32 | 이전 캠페인 성공 고객의 재가입률 65%로 압도적 |

## 2. 비지도 학습 (K-Means 클러스터링)

### 분석 방법
- **알고리즘**: K-Means Clustering
- **최적 K 탐색**: Elbow Method + Silhouette Score → **K=5** 선정
- **전처리**: 수치형(StandardScaler) + 범주형(OneHotEncoder) → 62개 피처
- **시각화**: PCA 2D/3D 시각화

### 클러스터별 특성

| 클러스터 | 고객 수 | 가입률 | 특성 | 전략 |
|----------|---------|--------|------|------|
| **C0** | 1,238명 (3.8%) | **63.0%** | 이전 캠페인 성공 이력 · 저금리 | **최우선 타겟** |
| **C3** | 2,127명 (6.5%) | **36.0%** | 저금리 시기 · 재접촉 고객 | 2순위 타겟 |
| **C4** | 7,490명 (22.7%) | 14.0% | 일반 금리 · 이전 접촉 이력 있음 | 비용 효율적 접근 |
| **C1** | 11,506명 (34.9%) | 6.0% | 고금리 · 신규 고객 | 저비용 관리 |
| **C2** | 10,589명 (32.1%) | 4.0% | 고금리 · 접촉 이력 없음 | 예산 투입 비권장 |

## 3. 지도 학습 (분류 예측)

### 모델 비교 (튜닝 전)

| 모델 | Accuracy | Precision | Recall | F1 Score |
|------|----------|-----------|--------|----------|
| Random Forest | 89.5% | 56.3% | 30.3% | 39.4% |
| XGBoost | 89.9% | 61.1% | 29.1% | 39.4% |
| LightGBM | 90.3% | 66.8% | 27.0% | 38.5% |
| SVM | 90.3% | 69.5% | 25.5% | 37.4% |
| Gradient Boosting | 90.1% | 67.3% | 23.7% | 35.1% |
| Logistic Regression | 90.1% | 69.0% | 21.9% | 33.2% |

> 불균형 데이터 특성상 **Recall(재현율)**을 핵심 지표로 선정

### 하이퍼파라미터 튜닝
- **방법**: RandomizedSearchCV (5-fold CV, 40 iterations)
- **기준**: Recall 최적화
- **최종 선택 모델**: Random Forest

### 튜닝 후 성능 (Top 3)

| 모델 | Recall | Precision | F1 Score |
|------|--------|-----------|----------|
| **XGBoost** | **83.5%** | 18.0% | 0.296 |
| LightGBM | 77.8% | 21.0% | 0.331 |
| Random Forest | 66.9% | 34.6% | 0.456 |

## 결과 요약

### 비즈니스 임팩트

| 지표 | 전체 대상 마케팅 | 모델 활용 마케팅 |
|------|------------------|------------------|
| 전화 대상 | 100% (전체) | 상위 30%만 선별 |
| 가입 성공률 | 11.3% | 26.4% |
| **효율 향상** | - | **약 2.3배** |
| **비용 절감** | - | **약 70%** |

### 마케팅 전략 제안

- **우선순위 분류**: 가입 확률 기반 A/B/C 등급 분류
  - A등급(상위 10%): 가입률 48.9% → 최우선 상담원 배정
  - B등급(상위 10~30%): 가입률 15.1% → 2순위 접촉
  - C등급(하위 70%): 가입률 4.8% → 저비용 채널(문자/이메일)
- **최적 접촉 시기**: 3월, 10월, 9월, 12월 가입률 높음
- **타겟 직업군**: 학생(35.4%), 퇴직자(24.3%) 가입률 상위

## 기술 스택

| 구분 | 기술 |
|------|------|
| Language | Python |
| Data Analysis | Pandas, NumPy |
| Visualization | Matplotlib, Seaborn |
| Machine Learning | Scikit-learn, XGBoost, LightGBM |
| Dimensionality Reduction | PCA |
| Statistics | SciPy (Cramer's V, Chi-square) |

## 프로젝트 구조

```
PROJECT4/
├── EDA.ipynb              # EDA 및 상관관계 분석
├── 비지도.ipynb            # K-Means 클러스터링 (고객 세분화)
├── 지도.ipynb              # 지도 학습 모델 비교 및 예측
├── viz_ml.py              # 지도학습 결과 시각화 모듈
├── bank-additional-full.csv  # 데이터셋
└── README.md              # 프로젝트 설명
```